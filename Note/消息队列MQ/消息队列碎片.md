# Kafka

## 1. Kafka 的顺序写机制？

kafka 的消息都是通过顺序写来持久化的，不需要涉及到复杂的索引，缺点只有无法插入更新这些操作，但是对于一个专注于高吞吐的消息队列来说，这就够了。

与此同时，kafka 的顺序写又恰好天然构成了消息的偏移量，便于消费者精确控制消费进度。

除此之外，Kafka 也不是直接写入磁盘的，而是配合操作系统的 PageCache 机制来异步写入的。当然，读取也是一样，可以直接从 PageCache 中读取。然而，PageCache 在操作系统挂掉，或者断电的时候注定会有一定的不可靠，所以 Kafka 也提供了一个是否异步写入磁盘的选项，可以自己控制写入策略。

## 2. 零拷贝？

